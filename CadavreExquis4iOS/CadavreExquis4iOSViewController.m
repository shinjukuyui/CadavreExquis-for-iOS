//
//  CadavreExquis4iOSViewController.m
//  CadavreExquis4iOS
//
//  テクスト生成アルゴリズム及び辞書データの著作権はAkiyoshi Sumi氏に属します。
//  Created by shinjuku yui on 11/08/13.
//  Copyrught © 1994 by Akiyoshi Sumi All Rights reserved.
//  Copyright 2011年 Tragile Eden. All rights reserved.
//

#import "CadavreExquis4iOSViewController.h"

@implementation CadavreExquis4iOSViewController
@synthesize textView;

#pragma mark - dictionary licensed by 
// 辞書データはHyperCardスタック「優美なる死体 v2.1」から作成しました。
// 初期辞書データの著作権はAkiyoshi Sumi氏に属します。
- (void) initialize {
    // とりあえず配列に辞書を作る。あとでCoreDataに変更する。
    sentences = [[NSArray arrayWithObjects:
                  @"*は、*を解剖する",
                  @"「*」研究所で、*が、*を研究していたのだ",
                  @"「*」地獄",
                  @"「*」地獄の悦楽",
                  @"「*の刑」が、執行された",
                  @"##年後、*は、*を目覚めさせることになる",
                  @"#0年前、*は、*についての研究を発表した",
                  @"*",
                  @"*。*。そして*",
                  @"*＋*＝*",
                  @"*が、*と心中した",
                  @"*が、*になる",
                  @"*が、*に興味を持っている",
                  @"*が、*に魅せられる",
                  @"*が、*に恋をする",
                  @"*が、*のように歌う",
                  @"*が、*のように泣く",
                  @"*が、*のように叫ぶ",
                  @"*が、*のように振舞う",
                  @"*が、*の講演会に出席する",
                  @"*が、*の日記を覗き見た",
                  @"*が、*をそそのかしたのだろう",
                  @"*が、*を哀れむ",
                  @"*が、*を愛する",
                  @"*が、*を育てたのだ",
                  @"*が、*を観察している",
                  @"*が、*を殺した",
                  @"*が、*を賛美する",
                  @"*が、*を司っていることは、周知の事実",
                  @"*が、*を釈放する",
                  @"*が、*を切り裂く",
                  @"*が、*を操る",
                  @"*が、*を探しはじめて数世紀になる",
                  @"*が、*を盗んだ",
                  @"*が、*を騙した",
                  @"*が、劇団「*」を旗揚げしたのが、##年前",
                  @"*が、砂漠を行く",
                  @"*が、笛を吹く",
                  @"*が、買物に出かける",
                  @"*が、髭をたくわえる",
                  @"*が、本当に*を望んでいただろうか",
                  @"*が、夜歩く",
                  @"*が「*国」の王座についた",
                  @"*が狂気を装う",
                  @"*が死んだ",
                  @"*が笑う",
                  @"*が堕落した",
                  @"*が剃毛した",
                  @"*が微笑む",
                  @"*が浮揚する",
                  @"*が変色した",
                  @"*が変装する",
                  @"*が膨らむ",
                  @"*が膨張する",
                  @"*が瞑想する",
                  @"*と、*",
                  @"*と、*とが結婚する",
                  @"*と、*との饗宴",
                  @"*と、*の融合",
                  @"*と、寝てみればわかる",
                  @"*と*が、核反応を起こす",
                  @"*との休日",
                  @"*には、*が住んでいる",
                  @"*に関する印象",
                  @"*のもとへ、*が訪れた",
                  @"*の群に押しつぶされるのだ",
                  @"*の束縛から逃れよ",
                  @"*の中の*が、目を覚ます",
                  @"*の彫刻「*」のある公園で……",
                  @"*の吐息を聞け",
                  @"*の謎",
                  @"*の不思議",
                  @"*の平和利用について、議論が巻き起こった",
                  @"*の夢",
                  @"*の夢判断",
                  @"*の幼少の頃、*を見たという",
                  @"*の領域に到達すべく、*は歩き続ける",
                  @"*は、*だらけの部屋にこもっている",
                  @"*は、*である",
                  @"*は、*であるとされていたのだが",
                  @"*は、*という肉体を持っている",
                  @"*は、*として振る舞う",
                  @"*は、*とともに瞑想する",
                  @"*は、*に寄り添う",
                  @"*は、*に許しを乞う",
                  @"*は、*に呪いをかける",
                  @"*は、*に満足した",
                  @"*は、*に眠る",
                  @"*は、*に問い詰めた",
                  @"*は、*のように恐ろしい",
                  @"*は、*のように美しい",
                  @"*は、*の進化した姿である",
                  @"*は、*の祖先である",
                  @"*は、*の怒りをかった",
                  @"*は、*をのぞき見る",
                  @"*は、*を隠した",
                  @"*は、*を褐色に染める",
                  @"*は、*を呼び出した",
                  @"*は、*を構築する",
                  @"*は、*を持ち上げる",
                  @"*は、*を失った",
                  @"*は、*を借りた",
                  @"*は、*を借り入れる",
                  @"*は、*を手にいれた",
                  @"*は、*を所有している",
                  @"*は、*を除去した",
                  @"*は、*を説き伏せた",
                  @"*は、*を逮捕した",
                  @"*は、*を貯蔵している",
                  @"*は、*を売りさばいた",
                  @"*は、*を皮肉る",
                  @"*は、*を捕獲した",
                  @"*は、*を要求する",
                  @"*は、*的な存在である",
                  @"*は、おそるべき*に夢中になる",
                  @"*は、なんと*に似ていることか",
                  @"*は、悟りを開いた",
                  @"*は、詩集「*」を書き上げた",
                  @"*は、目を閉じて、*について考える",
                  @"*は、洋服を新調した",
                  @"*はひれ伏す",
                  @"*は仮死状態となった",
                  @"*は仮面をかぶる",
                  @"*は歓喜する",
                  @"*は許しを乞う",
                  @"*は狂喜する",
                  @"*は近づいてくる",
                  @"*は戸惑う",
                  @"*は困惑した",
                  @"*は傘をさす",
                  @"*は失業した",
                  @"*は取り乱す",
                  @"*は出家した",
                  @"*は床に伏した",
                  @"*は冬眠する",
                  @"*は入浴する",
                  @"*よ",
                  @"2###年、「*」革命の勃発",
                  @"2###年、「*」戦争の勃発",
                  @"2###年、*が、異常発生する",
                  @"2###年、*が、注目される",
                  @"キーワードは「*」である",
                  @"こうしている内にも、*は成長を続けている",
                  @"この春、*は、*を収穫した",
                  @"すぐにも、*が、*にとってかわる",
                  @"そこには*が……",
                  @"その後、明らかにされたのは、*の生い立ちである",
                  @"それが*を歓喜させた",
                  @"それは*である、ともとれる",
                  @"それは*に違いない",
                  @"それは*のことだろうか",
                  @"たしかに「*理論」にはかなっている",
                  @"ちょうどその時刻には、*が、*を撲殺していた",
                  @"ついに、*は、*に変貌した",
                  @"ついに、*は、*のしもべとなった",
                  @"ついに、*は、*を告訴した",
                  @"つまり、*は、*の本質である",
                  @"どう考えても、*と*の間には、なんの共通点も見出せないのだ",
                  @"なすすべのない*よ",
                  @"なぜか、*は居留守を使う",
                  @"なんと、*は、*を出産したのだ",
                  @"まるで「*の法則」を無視している",
                  @"まるで*だ",
                  @"もっとも、*は、*であるのかもしれない",
                  @"やっとの思いで、*は、*に借りを返した",
                  @"やはり、*はその責任を問われた",
                  @"よく考えてみると、*は、*に似ている",
                  @"以前から、*が、*に疑問を持っている",
                  @"学会で、*は、*であると発表された",
                  @"気をつけて！*が天井に潜んでいる",
                  @"拠り所を失ったのだろう。*は、*に助けを願う",
                  @"空間上の、*と、*との交点が、移動する",
                  @"結局、*は、*と契約した",
                  @"月明かりのもと、*が宙に舞う",
                  @"研究の結果明らかにされたのは、*と、*の類似性である",
                  @"今、*は、*をその胎内に宿している",
                  @"今朝の朝刊に、「*殺し」の記事が出ていた",
                  @"昨日、*は、*を買った",
                  @"昨夜、*は、*の夢を見た",
                  @"雑誌「*」の発刊",
                  @"惨めにも、*は、*にすがる",
                  @"思い出したように、*が、*に手紙を書いた",
                  @"磁石の指す方向には、*が……",
                  @"実は、*が、*に復讐しようとしている",
                  @"実は、*は、*でもあったのだ",
                  @"出土した文献によると、*は、その頃すでに存在していた",
                  @"新発見「*の法則」",
                  @"新発明「*の素」",
                  @"神を自称する*が、*を祝福する",
                  @"太古の昔から、*が、*を管理している",
                  @"地球を支えていた*の足下が滑る",
                  @"長年、*は、*に苦しめられていた",
                  @"突然、*が、*に襲いかかった",
                  @"突然、*が発狂した",
                  @"突然、*は、*の声を聞いた",
                  @"突然、*は走り出す",
                  @"念のため、*は、*の統計を取った",
                  @"秘密の内に、*が、*と契約した",
                  @"不当にも、*は、*に監禁された",
                  @"毎週、*は、*に変装する",
                  @"密かに、*が、*にすり替えられた",
                  @"密かに、*は、*を楽しむ",
                  @"名画「*のある風景」が盗まれた",
                  nil] retain];
    nouns = [[NSArray arrayWithObjects:
              @"あばら屋",
              @"アヒル",
              @"あぶりだし",
              @"アングラ女優",
              @"アンドロギュヌス",
              @"いも虫",
              @"エネルギー",
              @"オートマティズム",
              @"オシロスコープ",
              @"お経",
              @"ガス灯",
              @"カラス",
              @"ガラス",
              @"カルマ氏",
              @"キネマ",
              @"くらげ",
              @"コインロッカー",
              @"こうもり傘",
              @"ごみ箱",
              @"サーカス",
              @"サソリ",
              @"サルバドール氏",
              @"シャーマン",
              @"シュールレアリスト",
              @"シルクハット",
              @"シンボル",
              @"ステンドグラス",
              @"ゼンマイ",
              @"タイヤ",
              @"ダダイスト",
              @"テーブル",
              @"テレビ",
              @"ドクトル",
              @"どぶ板",
              @"トロッコ",
              @"ナイフ",
              @"ハイヒール",
              @"バケツ",
              @"パピルス",
              @"バルコニー",
              @"バレリーナ",
              @"ブランコ",
              @"フリークス達",
              @"プリズム",
              @"ペダル",
              @"ホログラフィー",
              @"ホロスコープ",
              @"マーケット",
              @"ミシン",
              @"ラジオ",
              @"ロープ",
              @"ロケット",
              @"ロングブーツ",
              @"わだつみ",
              @"亜寒帯",
              @"阿修羅",
              @"阿片",
              @"阿弥陀",
              @"哀話",
              @"愛",
              @"愛国者",
              @"愛人",
              @"悪疫",
              @"悪戯",
              @"悪業",
              @"悪習",
              @"悪癖",
              @"悪夢",
              @"悪霊",
              @"按摩",
              @"暗号",
              @"暗黒大陸",
              @"暗示",
              @"暗室",
              @"案内人",
              @"椅子",
              @"異観",
              @"異郷",
              @"異邦人",
              @"遺骸",
              @"医学",
              @"一寸法師",
              @"芋虫",
              @"雨",
              @"雨具",
              @"雨戸",
              @"雨傘",
              @"雨粒",
              @"雲",
              @"永久運動",
              @"永久機関",
              @"煙",
              @"煙草",
              @"煙幕",
              @"遠吠え",
              @"鉛筆",
              @"凹レンズ",
              @"横断歩道",
              @"温泉",
              @"下着",
              @"家族",
              @"花",
              @"貨物船",
              @"貨物列車",
              @"解剖学",
              @"解剖台",
              @"回路",
              @"怪人",
              @"懐中時計",
              @"懐炉",
              @"海王星",
              @"海女",
              @"絵文字",
              @"階段",
              @"貝柱",
              @"外科医",
              @"格子戸",
              @"核爆発",
              @"核融合",
              @"革命",
              @"学天則",
              @"額縁",
              @"患者",
              @"感動",
              @"監獄",
              @"看護学校",
              @"看護婦",
              @"缶詰",
              @"観覧車",
              @"眼球",
              @"眼鏡",
              @"眼底",
              @"奇術愛好家",
              @"奇書",
              @"汽車",
              @"祈り",
              @"記憶",
              @"記念写真",
              @"記念切手",
              @"記念碑",
              @"亀",
              @"儀式",
              @"蟻",
              @"漁船",
              @"共産党員",
              @"叫び",
              @"境界線",
              @"教会",
              @"曲馬団",
              @"極楽鳥",
              @"金太郎",
              @"銀河系",
              @"空き家",
              @"空き地",
              @"空箱",
              @"計画",
              @"警官",
              @"芸術",
              @"芸術家",
              @"血液",
              @"血管",
              @"月",
              @"月見草",
              @"月明かり",
              @"拳銃",
              @"犬",
              @"見せ物小屋",
              @"原子核",
              @"言い伝え",
              @"言葉",
              @"古本",
              @"呼吸器",
              @"胡椒",
              @"鼓動",
              @"交差点",
              @"交番所",
              @"公衆便所",
              @"公衆浴場",
              @"口",
              @"口臭",
              @"坑道",
              @"垢",
              @"校庭",
              @"行灯",
              @"講堂",
              @"合い言葉",
              @"合図",
              @"骨",
              @"砂利",
              @"詐欺師",
              @"祭",
              @"祭文",
              @"細胞",
              @"裁判官",
              @"裁判所",
              @"桜の木",
              @"皿",
              @"山脈",
              @"山椒魚",
              @"産婆",
              @"産婦人科医",
              @"姉妹",
              @"市場",
              @"思考",
              @"死体",
              @"私",
              @"糸",
              @"紙屑",
              @"詩集",
              @"試験管",
              @"資本家",
              @"歯ブラシ",
              @"歯車",
              @"侍",
              @"耳",
              @"耳鼻咽喉科医",
              @"自動人形",
              @"実験室",
              @"手",
              @"種明かし",
              @"腫瘍",
              @"囚人###番",
              @"宗教画",
              @"醜女",
              @"祝詞",
              @"床板",
              @"消化器",
              @"消火器",
              @"照明",
              @"肖像画",
              @"鍾乳洞",
              @"城",
              @"蒸気機関",
              @"蒸気船",
              @"職業安定所",
              @"職業婦人",
              @"色鉛筆",
              @"色彩理論",
              @"食器",
              @"心臓",
              @"心理学",
              @"神々",
              @"神秘主義者",
              @"薪",
              @"人口頭脳",
              @"数学者",
              @"数珠",
              @"性器",
              @"星",
              @"生き肝",
              @"生き地獄",
              @"生け贄",
              @"青かび",
              @"青虫",
              @"青天井",
              @"石炭",
              @"石灯篭",
              @"石板",
              @"赤子",
              @"赤潮",
              @"跡地",
              @"切手",
              @"切手収集家",
              @"蝉",
              @"仙人",
              @"先祖",
              @"洗濯物",
              @"祖先",
              @"粗壁",
              @"僧侶",
              @"双眼鏡",
              @"相続人",
              @"相対性原理",
              @"窓",
              @"走馬燈",
              @"遭難者",
              @"即身仏",
              @"足",
              @"足跡",
              @"体液",
              @"体臭",
              @"胎児",
              @"袋小路",
              @"貸本屋",
              @"大気圏",
              @"大群",
              @"大哲学者",
              @"大道芸人",
              @"大陸",
              @"滝",
              @"蛸",
              @"脱脂綿",
              @"探偵",
              @"暖炉",
              @"地下街",
              @"地下室",
              @"地下鉄",
              @"地球",
              @"地獄",
              @"蜘蛛",
              @"竹細工",
              @"茶柱",
              @"中性子",
              @"柱",
              @"柱時計",
              @"虫",
              @"鋳型",
              @"朝霧",
              @"潮騒",
              @"腸詰",
              @"蝶ネクタイ",
              @"長距離トラック",
              @"鳥",
              @"鳥居",
              @"通り雨",
              @"通行人",
              @"釣り人",
              @"庭石",
              @"提灯",
              @"泥",
              @"笛",
              @"溺死体",
              @"鉄棒",
              @"天の川",
              @"天才",
              @"天文学者",
              @"展覧会",
              @"添乗員",
              @"伝染病",
              @"電柱",
              @"土",
              @"土偶",
              @"土星",
              @"塔",
              @"投稿者",
              @"盗聴者",
              @"湯気",
              @"灯篭",
              @"等高線",
              @"踏切",
              @"逃亡者",
              @"洞窟",
              @"瞳",
              @"特急列車",
              @"尼",
              @"肉汁",
              @"虹",
              @"猫",
              @"脳髄",
              @"廃墟",
              @"背美鯨",
              @"博物学",
              @"博物館",
              @"発電所",
              @"髪",
              @"筏",
              @"犯罪者",
              @"悲観論者",
              @"秘密倶楽部会員",
              @"被告人",
              @"避難壕",
              @"非常口",
              @"琵琶法師",
              @"鼻",
              @"髭",
              @"筆",
              @"百貨店",
              @"百頭女",
              @"標識",
              @"氷",
              @"敷石",
              @"舞踏家",
              @"風景画",
              @"福助",
              @"分身",
              @"文明",
              @"壁",
              @"壁画",
              @"偏光レンズ",
              @"便器",
              @"弁護士",
              @"歩道橋",
              @"宝の地図",
              @"芳香",
              @"亡霊",
              @"牧師",
              @"本堂",
              @"魔法陣",
              @"万華鏡",
              @"万年筆",
              @"脈拍",
              @"民俗音楽",
              @"無意識",
              @"冥王星",
              @"網",
              @"木ネジ",
              @"木造校舎",
              @"目",
              @"門",
              @"夜光虫",
              @"夜行列車",
              @"夜霧",
              @"夜露",
              @"愉快犯",
              @"油虫",
              @"有袋類",
              @"遊園地",
              @"遊歩道",
              @"幼虫",
              @"妖怪博士",
              @"溶鉱炉",
              @"落書き",
              @"落葉",
              @"留置場",
              @"両足",
              @"両腕",
              @"量子力学",
              @"涙",
              @"礼拝堂",
              @"鈴",
              @"霊安室",
              @"蓮の花",
              @"路地",
              @"老人",
              @"老婆",
              @"論文",
              @"曼陀羅",
              @"痣",
              @"蜥蜴",
              nil] retain];
    qualifications = [[NSArray arrayWithObjects:
                       @"###年の時を経て蘇った",
                       @"##才の",
                       @"#00もの",
                       @"#0年後の",
                       @"#0年前の",
                       @"#才の",
                       @"#世紀後の",
                       @"#世紀前の",
                       @"#年後の",
                       @"#年前の",
                       @"#番目の",
                       @"#本指の",
                       @"#本足の",
                       @"*でできた",
                       @"*と交信した",
                       @"*と同棲している",
                       @"*にとりつかれた",
                       @"*にもたとえられる",
                       @"*に産み落とされた",
                       @"*に支えられた",
                       @"*に乗った",
                       @"*に棲む",
                       @"*に生き写しの",
                       @"*に悩まされている",
                       @"*に犯された",
                       @"*の",
                       @"*のマーク入りの",
                       @"*の主である",
                       @"*まみれの",
                       @"*をなびかせた",
                       @"*をまき散らす",
                       @"*を愛蔵している",
                       @"*を隠し持った",
                       @"*を持った",
                       @"*を失った",
                       @"*を従えた",
                       @"*を身にまとった",
                       @"*を得た",
                       @"*を背負った",
                       @"1##年間拘留されていた",
                       @"アンダルシアの",
                       @"いつも*と歩いている",
                       @"いつも不機嫌な",
                       @"エナメルの",
                       @"おかまの",
                       @"カタロニア出身の",
                       @"かたわらの",
                       @"かなしい",
                       @"かよわい",
                       @"ゴムの",
                       @"サディストの",
                       @"さびしい",
                       @"セーラー服を着た",
                       @"ゼンマイ仕掛けの",
                       @"なめらかなカーブを描く",
                       @"にせものの",
                       @"びしょぬれの",
                       @"プラチナの",
                       @"フロイトかぶれの",
                       @"マゾヒストの",
                       @"ランプを隠し持った",
                       @"愛に飢えた",
                       @"悪食の",
                       @"悪性の",
                       @"圧搾された",
                       @"異郷の",
                       @"異形の",
                       @"遺産相続したばかりの",
                       @"遺伝子工学的な",
                       @"一本足の",
                       @"隠された",
                       @"隠蔽された",
                       @"雨ざらしの",
                       @"影をなくした",
                       @"影を失った",
                       @"円形の",
                       @"炎の",
                       @"汚れた",
                       @"黄金の",
                       @"化粧した",
                       @"仮出所した",
                       @"家出した",
                       @"家庭的な",
                       @"科学的な",
                       @"壊れた",
                       @"怪しい",
                       @"怪我をした",
                       @"怪奇趣味の",
                       @"懐疑的な",
                       @"懐古趣味の",
                       @"海の",
                       @"海藻に絡まった",
                       @"街の",
                       @"拡大する",
                       @"隔世遺伝の",
                       @"隔世遺伝的な",
                       @"隔離された",
                       @"乾燥した",
                       @"丸い",
                       @"頑固な",
                       @"奇跡の",
                       @"幾何学的な",
                       @"機械的な",
                       @"機能的な",
                       @"帰省した",
                       @"気のふれた",
                       @"気の弱い",
                       @"輝く",
                       @"球状の",
                       @"巨大な",
                       @"教育熱心な",
                       @"狂気の",
                       @"鏡に映った",
                       @"驚くべき",
                       @"驚異の",
                       @"銀髪の",
                       @"空の",
                       @"軍服に身を固めた",
                       @"啓蒙主義の",
                       @"形容しがたい",
                       @"芸術家村の",
                       @"劇団を結成した",
                       @"月の",
                       @"建築学的な",
                       @"鍵をかけられた",
                       @"悟りを開いた",
                       @"光る",
                       @"公共の",
                       @"拘束された",
                       @"航空力学的な",
                       @"行き倒れになった",
                       @"高速の",
                       @"高慢な",
                       @"黒い",
                       @"骨のない",
                       @"混乱した",
                       @"砂漠の端に棲む",
                       @"再起不能になった",
                       @"犀の角を持つ",
                       @"三本足の",
                       @"参加を認められなかった",
                       @"山の",
                       @"惨めな",
                       @"産まれたばかりの",
                       @"子供を売った",
                       @"子供を抱えた",
                       @"指のない",
                       @"指の長い",
                       @"死に瀕した",
                       @"死を控えた",
                       @"死刑を宣告された",
                       @"時計仕掛けの",
                       @"耳の不自由な",
                       @"自由な",
                       @"社交界にデビューした",
                       @"借金を清算した",
                       @"樹海で遭難した",
                       @"醜い",
                       @"十字架を背負った",
                       @"柔らかい",
                       @"重力を無視した",
                       @"縮小する",
                       @"女装した",
                       @"小学校の",
                       @"消しさられた",
                       @"杖を持った",
                       @"職を失った",
                       @"新しい",
                       @"新しき村の",
                       @"森に棲む",
                       @"神聖なる",
                       @"神秘的な",
                       @"水の",
                       @"水ぶくれの",
                       @"衰弱した",
                       @"政界に進出した",
                       @"正真正銘の",
                       @"生き埋めにされた",
                       @"生前の",
                       @"生物学的な",
                       @"精神の",
                       @"精霊と交信した",
                       @"声の枯れた",
                       @"西暦####年の",
                       @"西暦###年の",
                       @"青い",
                       @"赤い",
                       @"先祖のない",
                       @"浅ましい",
                       @"洗礼を終えた",
                       @"双子の",
                       @"双頭の",
                       @"喪中の",
                       @"喪服を着た",
                       @"捜し物をする",
                       @"相似形の",
                       @"束縛された",
                       @"足のない",
                       @"足の不自由な",
                       @"足を引きずった",
                       @"太陽の",
                       @"体の不自由な",
                       @"体内の",
                       @"大きな",
                       @"地下の",
                       @"地下室の",
                       @"地獄の",
                       @"恥ずかしがりやの",
                       @"朝の",
                       @"超現実主義の",
                       @"長髪の",
                       @"沈没する",
                       @"通りすがりの",
                       @"通りを歩く",
                       @"帝國主義的な",
                       @"泥酔した",
                       @"溺れた",
                       @"鉄製の",
                       @"典型的な",
                       @"天才的な",
                       @"転職したばかりの",
                       @"点字を学んだ",
                       @"電気仕掛けの",
                       @"東洋的な",
                       @"盗聴癖のある",
                       @"盗癖のある",
                       @"等身大の",
                       @"透明の",
                       @"頭が#つある",
                       @"頭の",
                       @"頭のおかしな",
                       @"頭のとがった",
                       @"道に迷った",
                       @"特異体質の",
                       @"南の",
                       @"南方王族の",
                       @"二本指の",
                       @"肉体を失った",
                       @"肉体を得た",
                       @"日々の",
                       @"乳母車に乗った",
                       @"年老いた",
                       @"背中の",
                       @"白い",
                       @"白髪の",
                       @"迫り来る",
                       @"縛られた",
                       @"髪の長い",
                       @"髪を切った",
                       @"批判的な",
                       @"秘められた",
                       @"非科学的な",
                       @"非凡な体験をした",
                       @"非論理的な",
                       @"飛翔する",
                       @"眉を剃り落とした",
                       @"美しい",
                       @"髭の生えた",
                       @"評価されるべき",
                       @"評判のいい",
                       @"瀕死の",
                       @"貧困を極めた",
                       @"不意を突かれた",
                       @"不治の病に犯された",
                       @"不自由な",
                       @"浮上する",
                       @"浮遊する",
                       @"浮揚する",
                       @"復刻された",
                       @"平面的な",
                       @"偏執狂の",
                       @"保育園の",
                       @"母殺しの",
                       @"胞子をまき散らす",
                       @"忘れられた",
                       @"膨らんだ",
                       @"北の",
                       @"撲殺された",
                       @"毎日やってくる",
                       @"未完成の",
                       @"未登録の",
                       @"未来主義的な",
                       @"毛むくじゃらの",
                       @"木に実った",
                       @"木製の",
                       @"目のない",
                       @"目の不自由な",
                       @"夜にまぎれた",
                       @"夜の",
                       @"役所に就職した",
                       @"優美な",
                       @"余命幾ばくもない",
                       @"誉め讃えられた",
                       @"預言者でもある",
                       @"妖しい",
                       @"溶ける",
                       @"溶け始めた",
                       @"溶解した",
                       @"踊る",
                       @"欲深い",
                       @"翼をひろげた",
                       @"螺旋の",
                       @"理性を失った",
                       @"理論的な",
                       @"立体主義的な",
                       @"両性具有の",
                       @"両足をくじいた",
                       @"鱗をはがされた",
                       @"恋に破れた",
                       @"和服を着た",
                       @"孵化したばかりの",
                       nil] retain];
    sentence = nil;
}
#pragma mark - algorithm licensed by
// テクスト生成アルゴリズムはHyperCardスタック「優美なる死体 v2.1」からObjective-Cに移植しました。
// このアルゴリズムの著作権はAkiyoshi Sumi氏に属します。
-(NSString*) numbering:(NSString*) target {
    BOOL isFirst = YES;
    while (YES) {
        int number = isFirst ? (rand()%9)+1 : rand()%10;
        NSRange range = [target rangeOfString:@"#"];
        if (range.location == NSNotFound) {
            break;
        }
        target = [target stringByReplacingCharactersInRange:range withString:[NSString stringWithFormat:@"%d", number]];
        isFirst = NO;
    }
    return target;
}
-(NSString*) createSentence {
    int howMany = [sentences count];
    srand(time(nil));
    int index = rand()%howMany;
    NSString* creating = [sentences objectAtIndex:index];
    while (YES) {
        NSRange range = [creating rangeOfString:@"*"];
        if (range.location == NSNotFound) {
            break;
        }
        howMany = [nouns count];
        index = rand()%howMany;
        NSString* noun = [nouns objectAtIndex:index];
        NSString* nounWithQualification = nil;
        int using = rand()%100;
        if (using < 75) {
            howMany = [qualifications count];
            index = rand()%howMany;
            NSString* qualification = [qualifications objectAtIndex:index];
            nounWithQualification = [qualification stringByAppendingString:noun];
        } else {
            nounWithQualification = noun;
        }
        nounWithQualification = [self numbering:nounWithQualification];
        creating = [creating stringByReplacingCharactersInRange:range withString:nounWithQualification];
    }
    creating = [self numbering:creating];
    if (rand()%100 < 75) {
        creating = [creating stringByAppendingString:@"。"];
    } else {
        creating = [creating stringByAppendingString:@"！"];
    }
    return creating;
}
#pragma mark - View lifecycle
- (void)didReceiveMemoryWarning
{
    // Releases the view if it doesn't have a superview.
    [super didReceiveMemoryWarning];
    
    // Release any cached data, images, etc that aren't in use.
}


- (void)viewDidLoad
{
    [super viewDidLoad];
    [textView setEditable:NO];
    [textView setOpaque:YES];
    textView.alpha = 0.0;
    [self initialize];
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
    // e.g. self.myOutlet = nil;
    [nouns release];
    [qualifications release];
    [sentences release];
    if (sentence != nil) {
        [sentence release];
    }
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // Return YES for supported orientations
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}
#pragma mark - methods
-(void) reset {
    if (sentence != nil) {
        [sentence release];
    }
    textView.alpha = 0.0;
}
-(void) adjust {
    CGRect frame = [textView frame];
    CGSize size = [textView contentSize];
    frame.size.height = size.height;
    float height = [[UIScreen mainScreen] applicationFrame].size.height;
    float offset = (height - size.height) / 2;
    frame.origin.y = offset;
    [textView setFrame:frame];
}
-(void) redraw {
    [UIView animateWithDuration:2.0
                          delay:0.5
                        options:UIViewAnimationOptionCurveEaseOut
                     animations:^{
                         textView.alpha = 0.8;
                     }
                     completion:nil];
}
-(IBAction) create {
    [self reset];
    sentence = [[self createSentence] retain];
    [textView setText:sentence];
    [self adjust];
    [self redraw];
}
@end
